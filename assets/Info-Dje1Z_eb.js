import{_ as Q,d as r,g as W,n as c,p as h,q as ee,s as se,r as p,x as _,y as le,z as te,c as i,a as ne,b as s,w as oe,A as ue,m as ae,B as x,u as d,F as T,e as ie,t,j as o,C as H,D as ve,E as R,f as b,h as $,l as q,o as a,k as Z}from"./index-BtQnEOeq.js";import{H as de}from"./Header-CsKCAVPi.js";import{l as U,d as z,V as re}from"./Index-BEpGEG8n.js";const pe={class:"body"},me={class:"switch"},fe=["selected","onClick"],xe=["selected"],ye=["selected"],ge={class:"info"},ke={class:"info-item"},be={class:"info-item"},Ve={class:"num"},Me={class:"info-item"},Ce={key:0,class:"info-item"},we={style:{display:"table"}},Ie={class:"num"},De={class:"num"},Ee={class:"num"},Le={class:"num"},Ne={key:1,class:"info-item"},Te={style:{display:"table"}},Ue={class:"num"},ze={class:"num"},Ae={class:"num"},Be={key:2,class:"info-item"},Re={class:"num"},$e={class:"num"},qe={key:1,class:"num"},Fe={key:3,class:"info-item"},Se={class:"num"},Xe={key:4,class:"info-item"},Ye={class:"num"},_e={class:"num"},He={class:"num"},Ze={style:{display:"flex",gap:"6px"}},je={style:{display:"flex","margin-top":"12px"}},Pe={style:{flex:"1"}},Ge={class:"num"},Je={class:"num"},Ke={class:"num"},Oe={key:0,class:"str"},Qe={key:1,class:"num"},We={class:"num"},j=.8,ce={__name:"Info",setup(he){const m=c(),F=le(),v=r(()=>W().find(n=>n[0]==m.params.name)?.[1]),f=r(()=>h[m.params.name]),V=r(()=>v.value&&v.value.find(n=>n.find(e=>e[1]))),I=r(()=>{if(!V.value)return"#0000";let n="";for(let e of v.value)for(let l of e)l[1]&&(n=l[1]);return n?n.split(" 0px")[0]:"#0000"}),D=r(()=>{if(V.value)return ee[m.params.name]}),y=r(()=>v.value&&v.value.find(n=>n.find(e=>e[2]!=="initial"))),M=r(()=>{if(!y.value)return"#0000";let n="";for(let e of v.value)for(let l of e)l[2]&&(n=l[2]);return n||"#0000"}),P=r(()=>v.value&&v.value.length>1),G=r(()=>v.value&&se.includes(m.params.name)),u=p(0),S=()=>u.value=y.value?0:Math.max(Math.min(Number(m.query.r),3),0)||0,C=p(!0),A=p(!1),g=p(0),k=p(0);function J({x:n,y:e}){if(!C.value)return;A.value=!0;let l=g.value,X=k.value;const Y=({x:K,y:O})=>{g.value=Math.max(Math.min(l-(O-e)/j,105),-75),k.value=X+(K-n)/j};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",()=>{A.value=!1,document.removeEventListener("mousemove",Y)},{once:!0})}_(u,n=>{n!=-1&&(n==0&&!m.query.r||F.push("?r="+u.value))}),F.afterEach(n=>{n.name=="info"&&n.query.r!=u.value&&S()}),te(()=>{S()});const E=p(0),L=p(0),N=p(0),w=p(!0),B=n=>_(n,e=>{n.value=Math.max(0,Math.round(e))||0});return B(E),B(L),B(N),(n,e)=>(a(),i(T,null,[ne(de,null,{default:oe(()=>[s("label",null,[b(s("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=l=>Z(U)?U.value=l:null)},null,512),[[q,d(U)]]),e[10]||(e[10]=o(" 发光纹理 ",-1))]),s("label",null,[b(s("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=l=>Z(z)?z.value=l:null)},null,512),[[q,d(z)]]),e[11]||(e[11]=o(" 动态纹理 ",-1))])]),_:1}),s("div",pe,[s("div",{class:ue(["viewer",{dragable:C.value,dragging:A.value}]),onMousedown:J,onDblclick:e[2]||(e[2]=l=>{g.value=0,k.value=0})},[v.value?(a(),ae(re,{key:0,textures:v.value,rotate:u.value==-1?!0:Number(u.value),animate:d(z),light:d(U),"rotate-x":g.value,"rotate-y":k.value},null,8,["textures","rotate","animate","light","rotate-x","rotate-y"])):x("",!0)],34),s("div",me,[y.value?(a(),i("div",{key:1,selected:u.value==0?"":void 0,onClick:e[3]||(e[3]=l=>{u.value=0,C.value=!0})},"静止",8,xe)):(a(),i(T,{key:0},ie([0,1,2,3],l=>s("div",{selected:u.value==l?"":void 0,onClick:X=>{u.value=l,C.value=!0}},t(l)+" ("+t(["+z","+x","-z","-x"][l])+") ",9,fe)),64)),s("div",{selected:u.value==-1?"":void 0,onClick:e[4]||(e[4]=l=>{u.value=-1,C.value=!0})},"旋转",8,ye),g.value||k.value?(a(),i("div",{key:2,onClick:e[5]||(e[5]=l=>{g.value=0,k.value=0})},"复位")):x("",!0)]),s("main",null,[s("div",ge,[s("div",ke,[e[12]||(e[12]=s("span",null,"名称：",-1)),s("code",null,t(d(m).params.name),1)]),s("div",be,[s("span",null,"ID"+t(u.value>0?" (包含旋转码)":"")+"：",1),s("code",null,[s("span",Ve,t(f.value+(u.value==-1?0:u.value*16384)),1)])]),s("div",Me,[e[13]||(e[13]=s("span",null,"方块属性：",-1)),s("code",null,t(f.value==0?"空气":y.value?"液体":"固体"+(V.value?", 光源":"")+(G.value?", 透明":""))+t(P.value?", 动态纹理":""),1)]),y.value&&f.value!=0?(a(),i("div",Ce,[e[20]||(e[20]=s("span",null,"液体颜色：",-1)),s("code",we,[s("span",{class:"color",style:H([{background:M.value},{"vertical-align":"middle",margin:"0 6px 2px 0"}])},null,4),e[14]||(e[14]=s("span",{class:"method"},"rgba",-1)),e[15]||(e[15]=o("(",-1)),s("span",Ie,t(M.value.split(", ")[0].split("(")[1]),1),e[16]||(e[16]=o(", ",-1)),s("span",De,t(M.value.split(", ")[1]),1),e[17]||(e[17]=o(", ",-1)),s("span",Ee,t(M.value.split(", ")[2]),1),e[18]||(e[18]=o(", ",-1)),s("span",Le,t(M.value.split(", ")[3].split(")")[0]),1),e[19]||(e[19]=o(")",-1))])])):x("",!0),V.value?(a(),i("div",Ne,[e[26]||(e[26]=s("span",null,"光照颜色：",-1)),s("code",Te,[s("span",{class:"color",style:H([{background:I.value},{"vertical-align":"middle",margin:"0 6px 2px 0"}])},null,4),e[21]||(e[21]=s("span",{class:"method"},"rgb",-1)),e[22]||(e[22]=o("(",-1)),s("span",Ue,t(I.value.split(", ")[0].split("(")[1]),1),e[23]||(e[23]=o(", ",-1)),s("span",ze,t(I.value.split(", ")[1]),1),e[24]||(e[24]=o(", ",-1)),s("span",Ae,t(I.value.split(", ")[2].split(")")[0]),1),e[25]||(e[25]=o(")",-1))])])):x("",!0),V.value?(a(),i("div",Be,[e[29]||(e[29]=s("span",null,"光照等级 (单位: 格)：",-1)),s("code",null,[Array.isArray(D.value)?(a(),i(T,{key:0},[e[27]||(e[27]=o("亮圈：",-1)),s("span",Re,t(D.value[0]),1),e[28]||(e[28]=o(", 暗圈：",-1)),s("span",$e,t(D.value[1]),1)],64)):(a(),i("span",qe,t(D.value),1))])])):x("",!0),y.value?x("",!0):(a(),i("div",Fe,[e[30]||(e[30]=s("span",null,"摩擦力系数：",-1)),s("code",null,[s("span",Se,t(d(ve)[f.value]),1)])])),y.value?x("",!0):(a(),i("div",Xe,[e[33]||(e[33]=s("span",null,"施加速度：",-1)),s("code",null,[s("span",Ye,t(d(R)[f.value*3]),1),e[31]||(e[31]=o(", ",-1)),s("span",_e,t(d(R)[f.value*3+1]),1),e[32]||(e[32]=o(", ",-1)),s("span",He,t(d(R)[f.value*3+2]),1)])]))]),e[43]||(e[43]=s("br",null,null,-1)),e[44]||(e[44]=s("h3",null,"建造方块代码",-1)),s("div",Ze,[e[35]||(e[35]=s("span",null,"X",-1)),b(s("input",{type:"number",min:"0","onUpdate:modelValue":e[6]||(e[6]=l=>E.value=l),style:{width:"60px"}},null,512),[[$,E.value]]),e[36]||(e[36]=s("span",null,"Y",-1)),b(s("input",{type:"number",min:"0","onUpdate:modelValue":e[7]||(e[7]=l=>L.value=l),style:{width:"60px"}},null,512),[[$,L.value]]),e[37]||(e[37]=s("span",null,"Z",-1)),b(s("input",{type:"number",min:"0","onUpdate:modelValue":e[8]||(e[8]=l=>N.value=l),style:{width:"60px"}},null,512),[[$,N.value]]),s("label",null,[b(s("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=l=>w.value=l)},null,512),[[q,w.value]]),e[34]||(e[34]=o(" 使用方块ID ",-1))])]),s("div",je,[s("code",Pe,[o("voxels.setVoxel"+t(w.value?"Id":"")+"(",1),s("span",Ge,t(E.value),1),e[39]||(e[39]=o(", ",-1)),s("span",Je,t(L.value),1),e[40]||(e[40]=o(", ",-1)),s("span",Ke,t(N.value),1),e[41]||(e[41]=o(", ",-1)),w.value?(a(),i("span",Qe,t(f.value+(u.value==-1?0:u.value*16384)),1)):(a(),i("span",Oe,'"'+t(d(m).params.name)+'"',1)),!w.value&&u.value>0?(a(),i(T,{key:2},[e[38]||(e[38]=o(", ",-1)),s("span",We,t(u.value),1)],64)):x("",!0),e[42]||(e[42]=o(")",-1))])])])])],64))}},ts=Q(ce,[["__scopeId","data-v-9272b26e"]]);export{ts as default};
