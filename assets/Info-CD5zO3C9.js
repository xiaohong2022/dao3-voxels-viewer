import{_ as Q,d as p,g as W,n as c,p as h,q as ee,s as se,r as m,x as Y,y as le,z as te,c as i,a as ne,b as s,w as oe,A as ue,m as ae,B as f,u as d,F as T,e as ie,t as l,j as o,C as H,D as ve,E as de,G as B,f as V,h as R,l as $,o as a,k as Z}from"./index-D9rWsTBh.js";import{H as re}from"./Header-Cu83BtXJ.js";import{l as U,d as _,V as pe}from"./Index-B7I_EzZt.js";const me={class:"body"},fe={class:"switch"},xe=["selected","onClick"],ye=["selected"],ge=["selected"],ke={class:"info"},be={class:"info-item"},Ve={class:"info-item"},Me={class:"num"},Ce={class:"info-item"},we={key:0,class:"info-item"},Ie={style:{display:"table"}},Ee={class:"num"},De={class:"num"},Le={class:"num"},Ne={class:"num"},Te={key:1,class:"info-item"},Ue={style:{display:"table"}},_e={class:"num"},ze={class:"num"},Ae={class:"num"},Be={key:2,class:"info-item"},Re={class:"num"},$e={class:"num"},qe={key:1,class:"num"},Fe={key:3,class:"info-item"},Se={class:"num"},Xe={key:4,class:"info-item"},Ye={class:"num"},He={key:5,class:"info-item"},Ze={class:"num"},je={class:"num"},Ge={class:"num"},Pe={style:{display:"flex",gap:"6px"}},Je={style:{display:"flex","margin-top":"12px"}},Ke={style:{flex:"1"}},Oe={class:"num"},Qe={class:"num"},We={class:"num"},ce={key:0,class:"str"},he={key:1,class:"num"},es={class:"num"},j=.8,ss={__name:"Info",setup(ls){const x=c(),q=le(),v=p(()=>W().find(n=>n[0]==x.params.name)?.[1]),r=p(()=>h[x.params.name]),g=p(()=>v.value&&v.value.find(n=>n.find(e=>e[1]))),I=p(()=>{if(!g.value)return"#0000";let n="";for(let e of v.value)for(let t of e)t[1]&&(n=t[1]);return n?n.split(" 0px")[0]:"#0000"}),E=p(()=>{if(g.value)return ee[x.params.name]}),y=p(()=>v.value&&v.value.find(n=>n.find(e=>e[2]!=="initial"))),M=p(()=>{if(!y.value)return"#0000";let n="";for(let e of v.value)for(let t of e)t[2]&&(n=t[2]);return n||"#0000"}),G=p(()=>v.value&&v.value.length>1),P=p(()=>v.value&&se.includes(x.params.name)),u=m(0),F=()=>u.value=y.value?0:Math.max(Math.min(Number(x.query.r),3),0)||0,C=m(!0),z=m(!1),k=m(0),b=m(0);function J({x:n,y:e}){if(!C.value)return;z.value=!0;let t=k.value,S=b.value;const X=({x:K,y:O})=>{k.value=Math.max(Math.min(t-(O-e)/j,105),-75),b.value=S+(K-n)/j};document.addEventListener("mousemove",X),document.addEventListener("mouseup",()=>{z.value=!1,document.removeEventListener("mousemove",X)},{once:!0})}Y(u,n=>{n!=-1&&(n==0&&!x.query.r||q.push("?r="+u.value))}),q.afterEach(n=>{n.name=="info"&&n.query.r!=u.value&&F()}),te(()=>{F()});const D=m(0),L=m(0),N=m(0),w=m(!0),A=n=>Y(n,e=>{n.value=Math.max(0,Math.round(e))||0});return A(D),A(L),A(N),(n,e)=>(a(),i(T,null,[ne(re,null,{default:oe(()=>[s("label",null,[V(s("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>Z(U)?U.value=t:null)},null,512),[[$,d(U)]]),e[10]||(e[10]=o(" 发光纹理 ",-1))]),s("label",null,[V(s("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=t=>Z(_)?_.value=t:null)},null,512),[[$,d(_)]]),e[11]||(e[11]=o(" 动态纹理 ",-1))])]),_:1}),s("div",me,[s("div",{class:ue(["viewer",{dragable:C.value,dragging:z.value}]),onMousedown:J,onDblclick:e[2]||(e[2]=t=>{k.value=0,b.value=0})},[v.value?(a(),ae(pe,{key:0,textures:v.value,rotate:u.value==-1?!0:Number(u.value),animate:d(_),light:d(U),"rotate-x":k.value,"rotate-y":b.value},null,8,["textures","rotate","animate","light","rotate-x","rotate-y"])):f("",!0)],34),s("div",fe,[y.value?(a(),i("div",{key:1,selected:u.value==0?"":void 0,onClick:e[3]||(e[3]=t=>{u.value=0,C.value=!0})},"静止",8,ye)):(a(),i(T,{key:0},ie([0,1,2,3],t=>s("div",{selected:u.value==t?"":void 0,onClick:S=>{u.value=t,C.value=!0}},l(t)+" ("+l(["+z","+x","-z","-x"][t])+") ",9,xe)),64)),s("div",{selected:u.value==-1?"":void 0,onClick:e[4]||(e[4]=t=>{u.value=-1,C.value=!1})},"旋转",8,ge),k.value||b.value?(a(),i("div",{key:2,onClick:e[5]||(e[5]=t=>{k.value=0,b.value=0})},"复位")):f("",!0)]),s("main",null,[s("div",ke,[s("div",be,[e[12]||(e[12]=s("span",null,"名称：",-1)),s("code",null,l(d(x).params.name),1)]),s("div",Ve,[s("span",null,"ID"+l(u.value>0?" (包含旋转码)":"")+"：",1),s("code",null,[s("span",Me,l(r.value+(u.value==-1?0:u.value*16384)),1)])]),s("div",Ce,[e[13]||(e[13]=s("span",null,"方块属性：",-1)),s("code",null,l(r.value==0?"空气":y.value?"液体":"固体"+(g.value?", 光源":"")+(P.value?", 透明":""))+l(G.value?", 动态纹理":""),1)]),y.value&&r.value!=0?(a(),i("div",we,[e[20]||(e[20]=s("span",null,"液体颜色：",-1)),s("code",Ie,[s("span",{class:"color",style:H([{background:M.value},{"vertical-align":"middle",margin:"0 6px 2px 0"}])},null,4),e[14]||(e[14]=s("span",{class:"method"},"rgba",-1)),e[15]||(e[15]=o("(",-1)),s("span",Ee,l(M.value.split(", ")[0].split("(")[1]),1),e[16]||(e[16]=o(", ",-1)),s("span",De,l(M.value.split(", ")[1]),1),e[17]||(e[17]=o(", ",-1)),s("span",Le,l(M.value.split(", ")[2]),1),e[18]||(e[18]=o(", ",-1)),s("span",Ne,l(M.value.split(", ")[3].split(")")[0]),1),e[19]||(e[19]=o(")",-1))])])):f("",!0),g.value?(a(),i("div",Te,[e[26]||(e[26]=s("span",null,"光照颜色：",-1)),s("code",Ue,[s("span",{class:"color",style:H([{background:I.value},{"vertical-align":"middle",margin:"0 6px 2px 0"}])},null,4),e[21]||(e[21]=s("span",{class:"method"},"rgb",-1)),e[22]||(e[22]=o("(",-1)),s("span",_e,l(I.value.split(", ")[0].split("(")[1]),1),e[23]||(e[23]=o(", ",-1)),s("span",ze,l(I.value.split(", ")[1]),1),e[24]||(e[24]=o(", ",-1)),s("span",Ae,l(I.value.split(", ")[2].split(")")[0]),1),e[25]||(e[25]=o(")",-1))])])):f("",!0),g.value?(a(),i("div",Be,[e[29]||(e[29]=s("span",null,"光照等级 (单位: 格)：",-1)),s("code",null,[Array.isArray(E.value)?(a(),i(T,{key:0},[e[27]||(e[27]=o("亮圈：",-1)),s("span",Re,l(E.value[0]),1),e[28]||(e[28]=o(", 暗圈：",-1)),s("span",$e,l(E.value[1]),1)],64)):(a(),i("span",qe,l(E.value),1))])])):f("",!0),g.value?(a(),i("div",Fe,[e[30]||(e[30]=s("span",null,"内部光照强度：",-1)),s("code",null,[s("span",Se,l(d(ve)[r.value]),1)])])):f("",!0),y.value?f("",!0):(a(),i("div",Xe,[e[31]||(e[31]=s("span",null,"摩擦力系数：",-1)),s("code",null,[s("span",Ye,l(d(de)[r.value]),1)])])),y.value?f("",!0):(a(),i("div",He,[e[34]||(e[34]=s("span",null,"施加速度：",-1)),s("code",null,[s("span",Ze,l(d(B)[r.value*3]),1),e[32]||(e[32]=o(", ",-1)),s("span",je,l(d(B)[r.value*3+1]),1),e[33]||(e[33]=o(", ",-1)),s("span",Ge,l(d(B)[r.value*3+2]),1)])]))]),e[44]||(e[44]=s("br",null,null,-1)),e[45]||(e[45]=s("h3",null,"建造方块代码",-1)),s("div",Pe,[e[36]||(e[36]=s("span",null,"X",-1)),V(s("input",{type:"number",min:"0","onUpdate:modelValue":e[6]||(e[6]=t=>D.value=t),style:{width:"60px"}},null,512),[[R,D.value]]),e[37]||(e[37]=s("span",null,"Y",-1)),V(s("input",{type:"number",min:"0","onUpdate:modelValue":e[7]||(e[7]=t=>L.value=t),style:{width:"60px"}},null,512),[[R,L.value]]),e[38]||(e[38]=s("span",null,"Z",-1)),V(s("input",{type:"number",min:"0","onUpdate:modelValue":e[8]||(e[8]=t=>N.value=t),style:{width:"60px"}},null,512),[[R,N.value]]),s("label",null,[V(s("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>w.value=t)},null,512),[[$,w.value]]),e[35]||(e[35]=o(" 使用方块ID ",-1))])]),s("div",Je,[s("code",Ke,[o("voxels.setVoxel"+l(w.value?"Id":"")+"(",1),s("span",Oe,l(D.value),1),e[40]||(e[40]=o(", ",-1)),s("span",Qe,l(L.value),1),e[41]||(e[41]=o(", ",-1)),s("span",We,l(N.value),1),e[42]||(e[42]=o(", ",-1)),w.value?(a(),i("span",he,l(r.value+(u.value==-1?0:u.value*16384)),1)):(a(),i("span",ce,'"'+l(d(x).params.name)+'"',1)),!w.value&&u.value>0?(a(),i(T,{key:2},[e[39]||(e[39]=o(", ",-1)),s("span",es,l(u.value),1)],64)):f("",!0),e[43]||(e[43]=o(")",-1))])])])])],64))}},us=Q(ss,[["__scopeId","data-v-b4038c07"]]);export{us as default};
