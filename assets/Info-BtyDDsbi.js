import{_ as O,d as m,v as Q,m as W,n as h,p as ee,q as le,r as p,s as Y,x as te,y as se,c as a,a as ne,b as l,w as oe,z as ue,l as ae,A as f,u as v,F as $,e as ie,t as n,i as r,B as H,C as ve,D as re,E as U,f as c,g as z,k as B,o as u,j as Z}from"./index-izRcC85k.js";import{H as de}from"./Header-D9-NYRLY.js";import{l as T,d as D,V as me}from"./Index-CKCgo_7n.js";const pe={class:"body"},fe={class:"switch"},xe=["selected","onClick"],ye=["selected"],ke=["selected"],ge={class:"info"},be={class:"info-item"},ce={class:"info-item"},Ve={class:"num"},Me={class:"info-item"},Ce={key:0,class:"info-item"},we={key:1,class:"info-item"},Ie={key:2,class:"info-item"},Ee={key:3,class:"info-item"},Te={key:4,class:"info-item"},De={key:5,class:"info-item"},Le={style:{display:"flex",gap:"6px"}},Ne={style:{display:"flex","margin-top":"12px"}},$e={style:{flex:"1"}},Ue={class:"num"},ze={class:"num"},Be={class:"num"},Re={key:0,class:"str"},qe={key:1,class:"num"},Ae={class:"num"},_=.8,Fe={__name:"Info",setup(Se){const x=W(),R=te(),i=m(()=>Q.reduce((s,e)=>[].concat(s,e[1]),[]).find(s=>s[0]==x.params.name)?.[1]),d=m(()=>h[x.params.name]),k=m(()=>i.value&&i.value.find(s=>s.find(e=>e[1]))),q=m(()=>{if(!k.value)return"#0000";let s="";for(let e of i.value)for(let t of e)t[1]&&(s=t[1]);return s?s.split(" 0px")[0]:"#0000"}),C=m(()=>{if(k.value)return ee[x.params.name]}),y=m(()=>i.value&&i.value.find(s=>s.find(e=>e[2]!=="initial"))),A=m(()=>{if(!y.value)return"#0000";let s="";for(let e of i.value)for(let t of e)t[2]&&(s=t[2]);return s||"#0000"}),j=m(()=>i.value&&i.value.length>1),P=m(()=>i.value&&le.includes(x.params.name)),o=p(0),F=()=>o.value=y.value?0:Math.max(Math.min(Number(x.query.r),3),0)||0,V=p(!0),L=p(!1),g=p(0),b=p(0);function G({x:s,y:e}){if(!V.value)return;L.value=!0;let t=g.value,S=b.value;const X=({x:J,y:K})=>{g.value=Math.max(Math.min(t-(K-e)/_,105),-75),b.value=S+(J-s)/_};document.addEventListener("mousemove",X),document.addEventListener("mouseup",()=>{L.value=!1,document.removeEventListener("mousemove",X)},{once:!0})}Y(o,s=>{s!=-1&&(s==0&&!x.query.r||R.push("?r="+o.value))}),R.afterEach(s=>{s.name=="info"&&s.query.r!=o.value&&F()}),se(()=>{F()});const w=p(0),I=p(0),E=p(0),M=p(!0),N=s=>Y(s,e=>{s.value=Math.max(0,Math.round(e))||0});return N(w),N(I),N(E),(s,e)=>(u(),a($,null,[ne(de,null,{default:oe(()=>[l("label",null,[c(l("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>Z(T)?T.value=t:null)},null,512),[[B,v(T)]]),e[10]||(e[10]=r(" 发光纹理 ",-1))]),l("label",null,[c(l("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=t=>Z(D)?D.value=t:null)},null,512),[[B,v(D)]]),e[11]||(e[11]=r(" 动态纹理 ",-1))])]),_:1}),l("div",pe,[l("div",{class:ue(["viewer",{dragable:V.value,dragging:L.value}]),onMousedown:G,onDblclick:e[2]||(e[2]=t=>{g.value=0,b.value=0})},[i.value?(u(),ae(me,{key:0,textures:i.value,rotate:o.value==-1?!0:Number(o.value),animate:v(D),light:v(T),"rotate-x":g.value,"rotate-y":b.value},null,8,["textures","rotate","animate","light","rotate-x","rotate-y"])):f("",!0)],34),l("div",fe,[y.value?(u(),a("div",{key:1,selected:o.value==0?"":void 0,onClick:e[3]||(e[3]=t=>{o.value=0,V.value=!0})},"静止",8,ye)):(u(),a($,{key:0},ie([0,1,2,3],t=>l("div",{selected:o.value==t?"":void 0,onClick:S=>{o.value=t,V.value=!0}},n(t)+" ("+n(["+z","+x","-z","-x"][t])+") ",9,xe)),64)),l("div",{selected:o.value==-1?"":void 0,onClick:e[4]||(e[4]=t=>{o.value=-1,V.value=!1})},"旋转",8,ke),g.value||b.value?(u(),a("div",{key:2,onClick:e[5]||(e[5]=t=>{g.value=0,b.value=0})},"复位")):f("",!0)]),l("main",null,[l("div",ge,[l("div",be,[e[12]||(e[12]=l("span",null,"名称：",-1)),l("code",null,n(v(x).params.name),1)]),l("div",ce,[l("span",null,"ID"+n(o.value>0?" (包含旋转码)":"")+"：",1),l("code",null,[l("span",Ve,n(d.value+(o.value==-1?0:o.value*16384)),1)])]),l("div",Me,[e[13]||(e[13]=l("span",null,"方块属性：",-1)),l("code",null,n(d.value==0?"空气":y.value?"液体":"固体"+(k.value?", 光源":"")+(P.value?", 透明":""))+n(j.value?", 动态纹理":""),1)]),y.value&&d.value!=0?(u(),a("div",Ce,[e[14]||(e[14]=l("span",null,"液体颜色：",-1)),l("code",null,[l("span",{class:"color",style:H({background:A.value})},null,4),r(" "+n(A.value),1)])])):f("",!0),k.value?(u(),a("div",we,[e[15]||(e[15]=l("span",null,"光源颜色：",-1)),l("code",null,[l("span",{class:"color",style:H({background:q.value})},null,4),r(" "+n(q.value),1)])])):f("",!0),k.value?(u(),a("div",Ie,[e[16]||(e[16]=l("span",null,"光照等级 (单位: 格)：",-1)),l("code",null,n(Array.isArray(C.value)?`亮圈：${C.value[0]}, 暗圈：${C.value[1]}`:C.value),1)])):f("",!0),k.value?(u(),a("div",Ee,[e[17]||(e[17]=l("span",null,"光照强度：",-1)),l("code",null,n(v(ve)[d.value]),1)])):f("",!0),y.value?f("",!0):(u(),a("div",Te,[e[18]||(e[18]=l("span",null,"摩擦力系数：",-1)),l("code",null,n(v(re)[d.value]),1)])),y.value?f("",!0):(u(),a("div",De,[e[19]||(e[19]=l("span",null,"施加力：",-1)),l("code",null,n(v(U)[d.value*3])+", "+n(v(U)[d.value*3+1])+", "+n(v(U)[d.value*3+2]),1)]))]),e[29]||(e[29]=l("br",null,null,-1)),e[30]||(e[30]=l("h3",null,"建造方块代码",-1)),l("div",Le,[e[21]||(e[21]=l("span",null,"X",-1)),c(l("input",{type:"number",min:"0","onUpdate:modelValue":e[6]||(e[6]=t=>w.value=t),style:{width:"60px"}},null,512),[[z,w.value]]),e[22]||(e[22]=l("span",null,"Y",-1)),c(l("input",{type:"number",min:"0","onUpdate:modelValue":e[7]||(e[7]=t=>I.value=t),style:{width:"60px"}},null,512),[[z,I.value]]),e[23]||(e[23]=l("span",null,"Z",-1)),c(l("input",{type:"number",min:"0","onUpdate:modelValue":e[8]||(e[8]=t=>E.value=t),style:{width:"60px"}},null,512),[[z,E.value]]),l("label",null,[c(l("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>M.value=t)},null,512),[[B,M.value]]),e[20]||(e[20]=r(" 使用方块ID ",-1))])]),l("div",Ne,[l("code",$e,[r("voxels.setVoxel"+n(M.value?"Id":"")+"(",1),l("span",Ue,n(w.value),1),e[25]||(e[25]=r(", ",-1)),l("span",ze,n(I.value),1),e[26]||(e[26]=r(", ",-1)),l("span",Be,n(E.value),1),e[27]||(e[27]=r(", ",-1)),M.value?(u(),a("span",qe,n(d.value+(o.value==-1?0:o.value*16384)),1)):(u(),a("span",Re,'"'+n(v(x).params.name)+'"',1)),!M.value&&o.value>0?(u(),a($,{key:2},[e[24]||(e[24]=r(", ",-1)),l("span",Ae,n(o.value),1)],64)):f("",!0),e[28]||(e[28]=r(")",-1))])])])])],64))}},Ze=O(Fe,[["__scopeId","data-v-395ec61f"]]);export{Ze as default};
